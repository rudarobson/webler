#! /usr/bin/env node

var webler = require('./webler.js');
var path = require('path');
var yargs = require('yargs')
  .usage('Usage: weble src dst [options]')
  .help('h')
  .alias('h', 'help')

.option('tmp', {
    describe: 'Folder path for temporary files.',
    type: 'string'
  })
  .option('c', {
    alias: 'config',
    describe: 'Weble using the fluent API with a configuration name ex: Debug, Release.',
    type: 'string'
  })

var argv = yargs.argv;

if (argv.help) {
  console.log(yargs.help());
}

var _ = argv._;
argv._ = undefined;

var f = require(path.resolve(process.cwd(), 'Webler.js'));
f.call(webler, argv.config);
