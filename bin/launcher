#! /usr/bin/env node

var webler = require('./webler.js');
var path = require('path');
var yargs = require('yargs')
  .usage('Usage: webler <command> option')
  .help('h')
  .alias('h', 'help');


var argv = yargs.argv;

if (argv.help) {
  console.log(yargs.help());
}

var _ = argv._;
argv._ = undefined;

var command = _[0];

switch (command) {
  case 'weble':
    var f = require(path.resolve(process.cwd(), 'webler.js'));
    f.call(webler, _[1]);
    break;
  case 'init':
    var name = (_.length > 1) ? _[1] : undefined;
    webler.init(name);
    break;
}
